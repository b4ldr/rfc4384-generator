import iso3166

def get_int_by_alpha2(country_code):
    return int(get_bit_string(iso3166.countries_by_alpha2[country_code].name),2)

def get_int(country):
    return int(get_bit_string(country),2)

def get_bit_string(country):
    return _get_region(country) + '0' + _get_country(country)

def _get_country(country):
    return '{0:010b}'.format(int(iso3166.countries_by_name[country.upper()].numeric))

def _get_region(country):
    #Africa (AF)                            00001
    #Oceania (OC)                           00010
    #Asia (AS)                              00011
    #Antarctica (AQ)                        00100
    #Europe (EU)                            00101
    #Latin America/Caribbean Islands (LAC)  00110
    #North America (NA)                     00111
    return countries.get(iso3166.countries_by_name[country.upper()].alpha2)

countries = {
    'AD':'00101',
    'AE':'00011',
    'AF':'00011',
    'AG':'00111',
    'AI':'00111',
    'AL':'00101',
    'AM':'00011',
    'AN':'00111',
    'AO':'00001',
    'AQ':'00100',
    'AR':'00110',
    'AS':'00010',
    'AT':'00101',
    'AU':'00010',
    'AW':'00111',
    'AZ':'00011',
    'BA':'00101',
    'BB':'00111',
    'BD':'00011',
    'BE':'00101',
    'BF':'00001',
    'BG':'00101',
    'BH':'00011',
    'BI':'00001',
    'BJ':'00001',
    'BM':'00111',
    'BN':'00011',
    'BO':'00110',
    'BR':'00110',
    'BS':'00111',
    'BT':'00011',
    'BW':'00001',
    'BY':'00101',
    'BZ':'00111',
    'CA':'00111',
    'CC':'00011',
    'CD':'00001',
    'CF':'00001',
    'CG':'00001',
    'CH':'00101',
    'CI':'00001',
    'CK':'00010',
    'CL':'00110',
    'CM':'00001',
    'CN':'00011',
    'CO':'00110',
    'CR':'00111',
    'CU':'00111',
    'CV':'00001',
    'CX':'00011',
    'CY':'00011',
    'CZ':'00101',
    'DE':'00101',
    'DJ':'00001',
    'DK':'00101',
    'DM':'00111',
    'DO':'00111',
    'DZ':'00001',
    'EC':'00110',
    'EE':'00101',
    'EG':'00001',
    'EH':'00001',
    'ER':'00001',
    'ES':'00101',
    'ET':'00001',
    'FI':'00101',
    'FJ':'00010',
    'FK':'00110',
    'FM':'00010',
    'FO':'00101',
    'FR':'00101',
    'GA':'00001',
    'GB':'00101',
    'GD':'00111',
    'GE':'00011',
    'GF':'00110',
    'GG':'00101',
    'GH':'00001',
    'GI':'00101',
    'GL':'00111',
    'GM':'00001',
    'GN':'00001',
    'GP':'00111',
    'GQ':'00001',
    'GR':'00101',
    'GS':'00100',
    'GT':'00111',
    'GU':'00010',
    'GW':'00001',
    'GY':'00110',
    'HK':'00011',
    'HN':'00111',
    'HR':'00101',
    'HT':'00111',
    'HU':'00101',
    'ID':'00011',
    'IE':'00101',
    'IL':'00011',
    'IM':'00101',
    'IN':'00011',
    'IO':'00011',
    'IQ':'00011',
    'IR':'00011',
    'IS':'00101',
    'IT':'00101',
    'JE':'00101',
    'JM':'00111',
    'JO':'00011',
    'JP':'00011',
    'KE':'00001',
    'KG':'00011',
    'KH':'00011',
    'KI':'00010',
    'KM':'00001',
    'KN':'00111',
    'KP':'00011',
    'KR':'00011',
    'KW':'00011',
    'KY':'00111',
    'KZ':'00011',
    'LA':'00011',
    'LB':'00011',
    'LC':'00111',
    'LI':'00101',
    'LK':'00011',
    'LR':'00001',
    'LS':'00001',
    'LT':'00101',
    'LU':'00101',
    'LV':'00101',
    'LY':'00001',
    'MA':'00001',
    'MC':'00101',
    'MD':'00101',
    'ME':'00101',
    'MG':'00001',
    'MH':'00010',
    'MK':'00101',
    'ML':'00001',
    'MM':'00011',
    'MN':'00011',
    'MO':'00011',
    'MP':'00010',
    'MQ':'00111',
    'MR':'00001',
    'MS':'00111',
    'MT':'00101',
    'MU':'00001',
    'MV':'00011',
    'MW':'00001',
    'MX':'00111',
    'MY':'00011',
    'MZ':'00001',
    'NA':'00001',
    'NC':'00010',
    'NE':'00001',
    'NF':'00010',
    'NG':'00001',
    'NI':'00111',
    'NL':'00101',
    'NO':'00101',
    'NP':'00011',
    'NR':'00010',
    'NU':'00010',
    'NZ':'00010',
    'OM':'00011',
    'PA':'00111',
    'PE':'00110',
    'PF':'00010',
    'PG':'00010',
    'PH':'00011',
    'PK':'00011',
    'PL':'00101',
    'PM':'00111',
    'PN':'00010',
    'PR':'00111',
    'PS':'00011',
    'PT':'00101',
    'PW':'00010',
    'PY':'00110',
    'QA':'00011',
    'RE':'00001',
    'RO':'00101',
    'RS':'00101',
    'RU':'00101',
    'RW':'00001',
    'SA':'00011',
    'SB':'00010',
    'SC':'00001',
    'SD':'00001',
    'SE':'00101',
    'SG':'00011',
    'SH':'00001',
    'SI':'00101',
    'SJ':'00101',
    'SK':'00101',
    'SL':'00001',
    'SM':'00101',
    'SN':'00001',
    'SO':'00001',
    'SR':'00110',
    'ST':'00001',
    'SV':'00111',
    'SY':'00011',
    'SZ':'00001',
    'TC':'00111',
    'TD':'00001',
    'TF':'00100',
    'TG':'00001',
    'TH':'00011',
    'TJ':'00011',
    'TK':'00010',
    'TM':'00011',
    'TN':'00001',
    'TO':'00010',
    'TR':'00011',
    'TT':'00111',
    'TV':'00010',
    'TW':'00011',
    'TZ':'00001',
    'UA':'00101',
    'UG':'00001',
    'US':'00111',
    'UY':'00110',
    'UZ':'00011',
    'VC':'00111',
    'VE':'00110',
    'VG':'00111',
    'VI':'00111',
    'VN':'00011',
    'VU':'00010',
    'WF':'00010',
    'WS':'00010',
    'YE':'00011',
    'YT':'00001',
    'ZA':'00001',
    'ZM':'00001',
    'ZW':'00001'}
